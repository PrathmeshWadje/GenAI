{% extends './base.html' %}{% load static %}
{% block form_title %} Password Change {% endblock %}
{% block form_description %} Change your password {% endblock %}
{% block content %}
<div class="sm:mx-auto sm:w-full sm:max-w-sm text-black">
    <form class="space-y-4" action="{% url 'account_change_password' %}" method="POST">
        {% csrf_token %}
        {% if form.errors %}
        <div class="toast toast-botton toast-center">

            {% if form.non_field_errors %}
            <div class="alert alert-error">
                <span>{{ form.non_field_errors }}</span>
            </div>
            {% endif %}

            {% if form.errors.id_oldpassword %}
            <div class="alert alert-error">
                <span>{{ form.errors.oldpassword }}</span>
            </div>
            {% endif %}

            {% if form.errors.id_password1 %}
            <div class="alert alert-error">
                <span>{{ form.errors.password1 }}</span>
            </div>
            {% endif %}

            {% if form.errors.id_password2 %}
            <div class="alert alert-error">
                <span>{{ form.errors.password2 }}</span>
            </div>
            {% endif %}

        </div>
        {% endif %}
        
        <div>
            <label for="id_oldpassword" class="block text-sm font-medium">Current Password</label>
            <input id="id_oldpassword" type="text" name="oldpassword" autocomplete="current-password"
                placeholder="Current Password" required
                class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>

        <div>
            <label for="id_password1" class="block text-sm font-medium">New Password:</label>
            <input id="id_password1" type="password" name="password1" autocomplete="new-password"
                placeholder="New Password" required aria-describedby="id_password1_helptext"
                class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>
        <span class="helptext" id="id_password1_helptext"><ul><li>Your password must contain at least 8 characters.</li></ul></span>

        <div>
            <label for="id_password2" class="block text-sm font-medium">New Password (again):</label>
            <input id="id_password2" type="password" name="password2" autocomplete="current-password"
                placeholder="New Password (again)" required
                class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
        </div>


        <div>
            <button type="submit" class="btn btn-primary btn-block">Change Password</button>
        </div>
    </form>
    <p class="mt-10 text-center text-sm">
        <a href="{% url 'account_reset_password' %}" class="font-semibold text-primary">Forgot Password?</a>
    </p>
</div>
{% endblock %}